<!-- loading -->
<div class="flex flex-col flex-auto min-w-0 ">
    <progress_spinner *ngIf="loading==true"></progress_spinner>
    <div class="bg-bka-header dark:border-b min-w-0" *ngIf="loading!=true">
        <div class="flex flex-col flex-auto min-w-0">

            <div class="w-full   bg-bka-header  z-50 p-2 sticky"
                [ngClass]="{'fix_top_web': !isScreenSmall , 'fix_top_mobile': isScreenSmall}">
                <div
                    class="flex w-full mx-auto max-w-screen-xl flex-row  sticky flex-auto sm:items-center md:pl-20 md:pr-20">
                    <div class="flex flex-auto items-center min-w-0 z-50">
                        <a [routerLink]="['/portal-news/'+ id_group_news]">
                            <span *ngIf="activeLang=='vi'"
                                class="text-bka-header whitespace-nowrap ">{{group_news.name}}</span>
                            <span *ngIf="activeLang!='vi'"
                                class="text-bka-header whitespace-nowrap ">{{group_news.name_en}}</span>
                        </a>
                        <mat-icon class="text-bka-header ">keyboard_arrow_right</mat-icon>

                        <a [routerLink]="['/portal-type-news/'+news.db.id_type_news]">
                            <span *ngIf="activeLang=='vi'"
                                class="text-bka-header line-clamp-1">{{type_news.name}}</span>
                            <span *ngIf="activeLang!='vi'"
                                class="text-bka-header line-clamp-1">{{type_news.name_en}}</span>
                        </a>

                    </div>
                </div>
            </div>

            <div class="bg-bka-header dark:border-b min-w-0">
                <div class="flex flex-col w-full max-w-screen-xl mx-auto md:pl-20 md:pr-20">
                    <div class="flex flex-row flex-auto  bg-card  w-full mx-auto min-w-0 max-w-screen-xl">
                        <div class="flex flex-col flex-auto bg-card max-w-screen-xl mx-auto md:w-14 md:mt-30 mt-10"  data-aos="fade-right"
                        data-aos-once="true">
                            <div class="flex flex-col items-center w-full mx-auto  pb-4 bg-card sticky top-52"
                                *ngIf="!isScreenSmall">
                                <div *ngFor="let item of shares; let i = index" class="mb-1 h-10 w-10">
                                    <a [href]="item.link | safe" target="_blank" class="h-7 w-7"
                                        matTooltip="{{item.tooltip}}">
                                        <img class="mb-1 h-full w-full rounded-full block mx-auto"
                                            [src]="item.image | safe" />
                                    </a>
                                </div>
                                <div class="mb-1" class="mb-1 h-10 w-10">
                                    <a class="h-7 w-7 relative" target="_blank" *ngIf="!copied" (click)="copy()"
                                        matTooltip="Link sao chép đường dẫn ">
                                        <img class="h-7 w-7 mx-auto" [src]="img"
                                            (mouseover)="img='/assets/images/portal/share_3.png'"
                                            (mouseout)="img='/assets/images/portal/share_2.png'" />
                                    </a>
                                    <a class="h-7 w-7 relative" target="_blank" *ngIf="copied" (click)="copy()"
                                        matTooltip="Đã sao chép đường dẫn">
                                        <img class="h-7 w-7 mx-auto" [src]="img"
                                            (mouseover)="img='/assets/images/portal/share_3.png'"
                                            (mouseout)="img='/assets/images/portal/share_2.png'" />
                                    </a>
                                </div>
                                <div>
                                    <a *ngIf="news.is_comment==true"
                                        href="/portal-news-detail/{{id_news}}#comment_click" class="mb-1 h-10 w-10">
                                        <img class=" h-8 w-8 block mx-auto" [src]="icons.icon_binh_luan | safe" />
                                    </a>
                                </div>
                            </div>
                        </div>
                        <!--flex-wrap-->
                        <div class="flex flex-col space-y-4   flex-auto sm:items-center min-w-0 " data-aos="fade-right"
                            data-aos-once="true">
                            <!-- Card #59 - Expandable card -->
                            <div class="flex flex-col w-full bg-card rounded-lg">
                                <div class="" align="center">
                                    <img class="h-auto w-full rounded-lg"
                                        style="border-top-left-radius: 0.5rem !important;border-top-right-radius: 0.5rem !important"
                                        src="{{news.hinh_anh}}" alt="Card cover image">
                                </div>
                                <div class="p-2 mb-4">
                                    <div *ngIf="activeLang=='vi'" class="text-2xl font-bold bka-text mx-3">
                                        {{news.db.tieu_de}}
                                    </div>
                                    <div *ngIf="activeLang!='vi'" class="text-2xl font-bold bka-text mx-3">
                                        {{news.tieu_de_language}}
                                    </div>
                                    <span
                                        class="mx-3 text-base text-secondary italic leading-none mt-1">{{news.db.ngay_dang
                                        | date: 'dd/MM/yyyy'}}</span>
                                    <!-- <div class="flex items-center mx-3  mt-1 mb-1">
                                            <img class="w-10 h-10 rounded-full mr-4" (click)="goToProfileUser(news.db.create_by)"
                                                 src={{news.avatar}}
                                                 alt="Card cover image">
                                            <div class="flex flex-col">
                                                <span class="font-semibold leading-none text-blue-900">{{news.db.create_by_name}}</span>
                                                <span class="font-sm">{{news.db.position}}</span>
                
                                            </div>
                
                                        </div> -->
                                    <hr style="margin-top:8px;margin-bottom:8px" />

                                    <div class="flex items-center " *ngIf="!isScreenSmall">
                                        <div class="mx-3 mt-1 mb-6 overflow-hidden" style="word-break: break-word;">

                                            <span *ngIf="activeLang=='vi' && news.db.noi_dung!='null'"
                                                [innerHtml]="news.db.noi_dung | safeHtml"></span>
                                            <span *ngIf="activeLang!='vi' && news.noi_dung_language!='null'"
                                                [innerHtml]="news.noi_dung_language | safeHtml"></span>
                                        </div>
                                    </div>

                                    <div class="flex items-center " *ngIf="isScreenSmall">
                                        <div class="mx-3 mt-1 mb-6 overflow-hidden" style="word-break: break-word;">

                                            <span *ngIf="activeLang=='vi' && news.db.noi_dung_mobile!='null'"
                                                [innerHtml]="news.db.noi_dung_mobile | safeHtml"></span>
                                            <span *ngIf="activeLang!='vi' && news.noi_dung_language_mobile!='null'"
                                                [innerHtml]="news.noi_dung_language_mobile | safeHtml"></span>
                                        </div>
                                    </div>
                                    <!-- share -->
                                    <div align="left" *ngIf="isScreenSmall">
                                        <div class="flex h-10 mx-3 flex-row" style="z-index:9999999">
                                            <div *ngFor="let item of shares; let i = index">
                                                <div class="mr-2" matTooltip="{{item.tooltip}}">
                                                    <a href="{{item.link}}" target="_blank" class="mr-4">
                                                        <img class="mb-1 h-7 w-7 rounded-full block mx-auto"
                                                            src="{{item.image}}" />
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="mr-2" *ngIf="copied" style="margin-top: 0.25rem !important;">
                                                <a class="mt-0.5 mb-1 h-6 w-6" target="_blank" (click)="copy()"
                                                    matTooltip="Đã sao chép đường dẫn">
                                                    <img class="h-5 w-5 block mx-auto"
                                                        src="/assets/images/portal/share_2.png" />
                                                </a>
                                            </div>
                                            <div class="mr-2" *ngIf="!copied" style="margin-top: 0.25rem !important;">
                                                <a class="mt-0.5 mb-1 h-6 w-6" target="_blank" (click)="copy()"
                                                    matTooltip="Link sao chép đường dẫn">
                                                    <img class="h-5 w-5 block mx-auto"
                                                        src="/assets/images/portal/share_2.png" />
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    <hr class="border-b mt-1 mb-1">
                                    <div class="flex flex-col sm:flex-row sm:items-center mx-3  mb-4">
                                        <div class="hidden sm:flex flex-auto"></div>
                                        <div class="flex items-center mt-1 sm:mt-0">
                                            <button class="px-3 mr-1 -ml-2 sm:ml-0" (click)="openShareNews(news.db.id)"
                                                mat-button>
                                                <mat-icon class="text-1xl"> share</mat-icon> <span class="text-1xl"
                                                    transloco="system.chia_se"></span>
                                            </button>
                                            <button class="px-3 mr-1 -ml-2 sm:ml-0" mat-button>
                                                {{news.db.view_count | thousandSuff }} <span transloco="view"> </span>
                                            </button>
                                            <button class="px-3 sm:-mr-4" *ngIf="news.db.is_comment" mat-button>
                                                <span class="mr-1">{{news.db.comment_count | thousandSuff }} <span
                                                        transloco="system.binh_luan"></span> </span>
                                            </button>
                                        </div>
                                    </div>

                                    <ng-container fuseCardExpansion *ngIf="news.db.is_comment==true">
                                        <hr class="border-b my-0">
                                        <div class="flex flex-col mx-3 mt-6 mb-3">
                                            <div class="flex items-start">
                                                <mat-form-field class="fuse-mat-textarea fuse-mat-no-subscript w-full"
                                                    (click)="checklogin()">
                                                    <textarea matInput disabled [rows]="3"
                                                        [placeholder]="'Viết bình luận...'"
                                                        matTextareaAutosize></textarea>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                        <hr class="border-b my-0" style="margin-top:8px;margin-bottom:8px" />
                                        <div class="flex flex-col mx-3 my-6" *ngIf="!isScreenSmall">
                                            <div class="flex items-start p-2 rounded overflow-hidden shadow-lg"
                                                *ngFor="let item of lst_comment">
                                                <div class="mr-4 border-r-4">
                                                    <img class="w-10 h-10 rounded-full"
                                                        (click)="goToProfileUser(item.user_id)" src={{item.avatar}}
                                                        alt="Card cover image">
                                                    <div class="flex flex-col" style="width:150px">
                                                        <span
                                                            class="font-semibold leading-none truncate text-blue-900">{{item.create_by_name}}</span>
                                                        <span class="font-sm">{{item.position}}</span>
                                                        <span
                                                            class="text-base text-secondary leading-none mt-1">{{item.comment_date
                                                            | date : 'dd/MM/yyyy'}}</span>
                                                    </div>
                                                </div>
                                                <div class="flex flex-col mt-0.5">
                                                    <span [innerHtml]="item.comment | safeHtml"></span>
                                                </div>
                                                <hr class="border-b my-0" style="margin-top:8px;margin-bottom:8px" />

                                            </div>
                                        </div>
                                        <div class="flex flex-col" *ngIf="isScreenSmall">
                                            <div class="flex flex-col m-3 p-3 rounded overflow-hidden shadow-lg"
                                                *ngFor="let item of lst_comment">
                                                <div class="flex-1">
                                                    <div class="flex flex-row">
                                                        <div class="flex">
                                                            <img class="w-12 h-12 rounded-full mr-4" src={{item.avatar}}
                                                                alt="Card cover image">
                                                        </div>
                                                        <div class="flex mt-0.5">
                                                            <div class="flex flex-col">
                                                                <div class="flex">
                                                                    <span
                                                                        class="font-semibold leading-none truncate text-blue-900">{{item.create_by_name}}</span>
                                                                </div>
                                                                <div class="flex">
                                                                    <span class="font-sm">{{item.position}}</span>
                                                                </div>
                                                                <div class="flex">
                                                                    <span
                                                                        class="text-base text-secondary leading-none mt-2">{{item.comment_date
                                                                        | date : 'dd/MM/yyyy'}}</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="flex-1" style="word-break: break-word;">
                                                    <span [innerHtml]="item.comment | safeHtml"></span>
                                                </div>

                                            </div>
                                        </div>
                                    </ng-container>
                                </div>

                            </div>

                        </div>
                    </div>



                    <div class="flex flex-col w-full max-w-screen-xl  mt-4  mx-auto" data-aos="fade-right"
                        data-aos-once="true">
                        <div class="flex flex-col w-full mb-4 ">
                            <div class="flex flex-col flex-auto  w-full min-w-0 max-w-screen-xl mx-auto">
                                <swiper [slidesPerView]="'auto'" *ngIf="!isScreenSmall" [pagination]="{
                                  clickable: true
                                }" [autoplay]="{delay: 10000}" [spaceBetween]="20" class="mySwiperNhomTin1">
                                    <ng-template swiperSlide *ngFor="let item1 of lst_type_news; let i = index">
                                        <div class="p-3 grid place-items-center text-center rounded-lg bg-bka shadow-lg"
                                            style="height:92px;">
                                            <a *ngIf="activeLang=='vi'"
                                                class="text-lg uppercase  font-semibold tracking-tight text-white"
                                                (click)="gotoTypeNewsPage(item1.id)"> {{item1.name}}</a>
                                            <a *ngIf="activeLang!='vi'"
                                                class="text-lg uppercase  font-semibold tracking-tight text-white"
                                                (click)="gotoTypeNewsPage(item1.id)"> {{item1.name_en}}</a>
                                        </div>
                                    </ng-template>
                                </swiper>
                                <swiper [slidesPerView]="'auto'" *ngIf="isScreenSmall" [pagination]="{
                                  clickable: true
                                }" [autoplay]="{delay: 10000}" [spaceBetween]="20" class="mySwiperNhomTin1">
                                    <ng-template swiperSlide *ngFor="let item1 of lst_type_news; let i = index">
                                        <div class="p-3 grid place-items-center text-center rounded-lg bg-bka shadow-lg"
                                            style="height:92px;">
                                            <a *ngIf="activeLang=='vi'"
                                                class="text-2xl  font-semibold tracking-tight text-white"
                                                (click)="gotoTypeNewsPage(item1.id)"> {{item1.name}}</a>
                                            <a *ngIf="activeLang!='vi'"
                                                class="text-2xl  font-semibold tracking-tight text-white"
                                                (click)="gotoTypeNewsPage(item1.id)"> {{item1.name_en}}</a>
                                        </div>
                                    </ng-template>
                                </swiper>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>