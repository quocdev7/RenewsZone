<mat-form-field *ngIf="type == 'text'" class="w-full" [class.mat-form-field-disabled]="actionEnum === 3">
    <mat-label> {{ label | transloco }} {{ labelAddString }}<span style="color: red" *ngFor="let item of errorModel | filter: 'key':keyError; index as i">
        (<span *ngFor="let msg of item.value"> {{ msg | transloco }} </span>)
    </span></mat-label>
    <input [readonly]="actionEnum == 3" matInput maxlength="{{ maxlength }}" [(ngModel)]="model"
           (keyup.enter)="enterAction()"
        (ngModelChange)="modelChange.emit(model); setChose()" />
    <mat-error *ngIf="errorModel?.length!=0">
        <ng-container
          *ngFor="let item of errorModel | filter: 'key':keyError; index as i">
            <ng-container *ngFor="let msg of item.value"> {{ msg | transloco }} </ng-container>
        </ng-container>
    </mat-error>
    <mat-hint class="text-right">{{ model?.length }} / {{ maxlength }}</mat-hint>
</mat-form-field>

<mat-form-field *ngIf="type === 'number'" [class.mat-form-field-disabled]="actionEnum === 3" class="w-full">
    <mat-label>
        {{ label | transloco }} {{ labelAddString }}
        <span style="color: red" *ngFor="let item of errorModel | filter: 'key':keyError; index as i">
            (<span *ngFor="let msg of item.value"> {{ msg | transloco }} </span>)
        </span>
    </mat-label>
    <input [readonly]="actionEnum === 3" maxlength="10"  autonumeric matInput [(ngModel)]="model"
            (keyup.enter)="enterAction()"
        (ngModelChange)="modelChange.emit(model); setChose()" />
    <span matSuffix> &nbsp;{{ suffixstring }}</span>
</mat-form-field>


<mat-form-field *ngIf="type === 'readonly'" [class.mat-form-field-disabled]="actionEnum === 3" class="w-full">
    <mat-label> {{ label | transloco }} {{ labelAddString }} </mat-label>
    <input readonly matInput [(ngModel)]="model" (ngModelChange)="modelChange.emit(model)" />
</mat-form-field>

<mat-form-field *ngIf="type === 'readonly_datepicker'" [class.mat-form-field-disabled]="actionEnum === 3" class="w-full">
    <mat-label> {{ label | transloco }} {{ labelAddString }} </mat-label>
   
    <input readonly matInput [matDatepicker]="startDatePicker" [(ngModel)]="model"
           (keyup.enter)="enterAction()"
           (ngModelChange)="modelChange.emit(model); setChose()" />
</mat-form-field>
<mat-form-field *ngIf="type === 'readonly_number'" [class.mat-form-field-disabled]="actionEnum === 3" class="w-full">
    <mat-label> {{ label | transloco }} {{ labelAddString }} </mat-label>

    <input readonly maxlength="30" [options]="myOptions" autonumeric matInput [(ngModel)]="model"
           (keyup.enter)="enterAction()"
           (ngModelChange)="modelChange.emit(model); setChose()" />
</mat-form-field>

<mat-form-field *ngIf="type === 'time'" [class.mat-form-field-disabled]="actionEnum === 3" class="w-full">
    <mat-label>
        {{ label | transloco }} {{ labelAddString }}
        <span style="color: red" *ngFor="let item of errorModel | filter: 'key':keyError; index as i">
            (<span *ngFor="let msg of item.value"> {{ msg | transloco }} </span>)
        </span>
    </mat-label>
    <input [readonly]="actionEnum === 3" [textMask]="{ mask: timemask }" type="time" matInput [(ngModel)]="model"
            (keyup.enter)="enterAction()"
        (ngModelChange)="modelChange.emit(model); setChose()" />
</mat-form-field>


<mat-form-field *ngIf="type === 'datepicker'" [ngClass]="{ 'read-only-input': actionEnum === 3 }" class="w-full">
    <mat-label>
        {{ label | transloco }} {{ labelAddString }}

        <span style="color: red" *ngFor="let item of errorModel | filter: 'key':keyError; index as i">
            (<span *ngFor="let msg of item.value"> {{ msg | transloco }} </span>)
        </span>
    </mat-label>
    <input [readonly]="true" matInput [matDatepicker]="startDatePicker" [(ngModel)]="model"
            (keyup.enter)="enterAction()"
        (ngModelChange)="modelChange.emit(model); setChose()" />
    <mat-datepicker-toggle matSuffix [for]="startDatePicker" [hidden]="actionEnum === 3"></mat-datepicker-toggle>
    <mat-datepicker #startDatePicker [hidden]="actionEnum === 3"></mat-datepicker>
</mat-form-field>

<mat-form-field *ngIf="type === 'password'" [class.mat-form-field-disabled]="actionEnum === 3"
    class="w-full">
    <mat-label>
        {{ label | transloco }} {{ labelAddString }}

        <span style="color: red" *ngFor="let item of errorModel | filter: 'key':keyError; index as i">
            (<span *ngFor="let msg of item.value"> {{ msg | transloco }} </span>)
        </span>
    </mat-label>
    <input [readonly]="actionEnum === 3" matInput [type]="hide ? 'password' : 'text'" maxlength="{{ maxlength }}"
            (keyup.enter)="enterAction()"
        [(ngModel)]="model" (ngModelChange)="modelChange.emit(model); setChose()" />
    <mat-icon matSuffix (click)="hide = !hide">{{
        hide ? "visibility_off" : "visibility"
        }}</mat-icon>
    <mat-hint class="text-right">{{ model?.length }} / {{ maxlength }}</mat-hint>
</mat-form-field>


<mat-form-field *ngIf="type === 'datetimepicker'" [class.mat-form-field-disabled]="actionEnum === 3"
    class="w-full">
    <mat-label>
        {{ label | transloco }} {{ labelAddString }}
        <span style="color: red" *ngFor="let item of errorModel | filter: 'key':keyError; index as i">
            (<span *ngFor="let msg of item.value"> {{ msg | transloco }} </span>)
        </span>
    </mat-label>
    <input matInput [ngxMatDatetimePicker]="timePicker" [(ngModel)]="model" (ngModelChange)="modelChange.emit(model);setChose()" />
    <mat-datepicker-toggle matSuffix [for]="timePicker"></mat-datepicker-toggle>
    <ngx-mat-datetime-picker #timePicker [showSeconds]="showSeconds" [stepHour]="stepHour" [stepMinute]="stepMinute"
        [stepSecond]="stepSecond" [touchUi]="touchUi" [color]="color" [enableMeridian]="enableMeridian">
    </ngx-mat-datetime-picker>
</mat-form-field>

<mat-form-field *ngIf="type === 'datetimepicker_minute'" [class.mat-form-field-disabled]="actionEnum === 3"
    class="w-full">
    <mat-label>
        {{ label | transloco }} {{ labelAddString }}
        <span style="color: red" *ngFor="let item of errorModel | filter: 'key':keyError; index as i">
            (<span *ngFor="let msg of item.value"> {{ msg | transloco }} </span>)
        </span>
    </mat-label>
    <input matInput [ngxMatDatetimePicker]="timePicker" [(ngModel)]="model" (ngModelChange)="modelChange.emit(model);setChose()" />
    <mat-datepicker-toggle matSuffix [for]="timePicker"></mat-datepicker-toggle>
    <ngx-mat-datetime-picker #timePicker  [stepHour]="stepHour" [stepMinute]="stepMinute"
         [touchUi]="touchUi" [color]="color" [enableMeridian]="enableMeridian">
    </ngx-mat-datetime-picker>
</mat-form-field>

<mat-form-field *ngIf="type === 'daterangepicker'" [class.mat-form-field-disabled]="actionEnum === 3"
    class="w-full">
    <mat-label> {{ label | transloco }} {{ labelAddString }}
        <span style="color: red" *ngFor="let item of errorModel | filter: 'key':keyError; index as i">
            (<span *ngFor="let msg of item.value"> {{ msg | transloco }} </span>)
        </span>
    </mat-label>
    <mat-date-range-input [(formGroup)]="range" [rangePicker]="picker">
        <input matStartDate formControlName="start" placeholder="Start date"
            (dateChange)="modelChange.emit(range.value)">
        <input matEndDate formControlName="end" placeholder="End date" (dateChange)="modelChange.emit(range.value);setChose()">
    </mat-date-range-input>
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-date-range-picker #picker></mat-date-range-picker>
    <mat-error *ngIf="range.controls.start.hasError('matStartDateInvalid')">Invalid start date</mat-error>
    <mat-error *ngIf="range.controls.end.hasError('matEndDateInvalid')">Invalid end date</mat-error>
</mat-form-field>
